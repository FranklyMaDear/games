<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match POP Blocks Puzzle</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: #000;
            color: #333;
            line-height: 1.6;
            min-height: 100vh;
            overflow: hidden;
            position: relative;
        }
        
        /* Παιχνίδι σε πλήρη οθόνη */
        .game-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .game-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        /* Κουμπί πληροφοριών */
        .info-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }
        
        .info-btn:hover {
            transform: scale(1.1);
        }
        
        /* Pop-up πληροφοριών */
        .info-popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .info-popup.active {
            display: flex;
            opacity: 1;
            animation: fadeIn 0.3s ease forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .info-content {
            background: white;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .info-popup.active .info-content {
            transform: translateY(0);
        }
        
        .info-header {
            background: linear-gradient(to right, #2575fc, #6a11cb);
            color: white;
            padding: 25px 30px;
            text-align: center;
            position: relative;
        }
        
        .info-header h2 {
            font-size: 2.2rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .close-info-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }
        
        .close-info-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .info-body {
            padding: 30px;
            overflow-y: auto;
            max-height: 60vh;
        }
        
        .game-thumb {
            width: 100%;
            max-width: 400px;
            border-radius: 10px;
            margin: 0 auto 25px;
            display: block;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .description {
            margin-bottom: 25px;
            font-size: 1.05rem;
            line-height: 1.7;
        }
        
        .instructions {
            background-color: #f0f7ff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid #6a11cb;
        }
        
        .instructions h3 {
            color: #6a11cb;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .game-details {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .detail-item {
            background-color: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            border: 1px solid #eaeaea;
        }
        
        .detail-item i {
            font-size: 1.5rem;
            color: #2575fc;
            margin-bottom: 8px;
        }
        
        .tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .tag {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
        }
        
        /* ΔΙΑΦΗΜΙΣΗ ΜΕ 90% ΤΗΣ ΟΘΟΝΗΣ */
        .overlay-ad {
            position: fixed;
            bottom: -90vh;
            left: 0;
            width: 100%;
            height: 90vh;
            z-index: 1000;
            background: white;
            display: none;
            transition: bottom 0.5s ease-out;
            box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.4);
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            overflow: hidden;
        }
        
        .overlay-ad.active {
            display: block;
            bottom: 0;
            animation: slideUpAd 0.5s ease-out forwards;
        }
        
        @keyframes slideUpAd {
            from { bottom: -90vh; }
            to { bottom: 0; }
        }
        
        /* Το 10% που μένει για το παιχνίδι */
        .game-container.ad-active {
            height: 10vh;
            top: 0;
        }
        
        .ad-header {
            background: linear-gradient(to right, #2575fc, #6a11cb);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
        }
        
        .ad-title {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .ad-close {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            transition: background-color 0.3s, transform 0.3s;
        }
        
        .ad-close:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .ad-content {
            width: 100%;
            height: calc(90vh - 60px);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background: #f8f9fa;
        }
        
        .ad-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: #666;
            font-size: 1.2rem;
            text-align: center;
            padding: 20px;
        }
        
        /* Loading για το παιχνίδι */
        .game-loading {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: white;
            z-index: 5;
        }
        
        .loader {
            width: 50px;
            height: 50px;
            border: 5px solid #3f007e;
            border-radius: 50%;
            border-top-color: #6a11cb;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Timer για τη διαφήμιση */
        .ad-timer {
            font-size: 0.9rem;
            background: rgba(0, 0, 0, 0.3);
            padding: 3px 10px;
            border-radius: 15px;
            margin-left: 15px;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .info-content {
                width: 95%;
                max-height: 85vh;
            }
            
            .info-header h2 {
                font-size: 1.8rem;
            }
            
            .game-details {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .overlay-ad {
                height: 85vh;
            }
            
            .game-container.ad-active {
                height: 15vh;
            }
            
            .ad-header {
                padding: 12px 15px;
                height: 50px;
            }
            
            .ad-title {
                font-size: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .info-header {
                padding: 20px 15px;
            }
            
            .info-header h2 {
                font-size: 1.5rem;
            }
            
            .info-body {
                padding: 20px;
            }
            
            .game-details {
                grid-template-columns: 1fr;
            }
            
            .info-btn {
                top: 10px;
                right: 10px;
                width: 40px;
                height: 40px;
            }
            
            .overlay-ad {
                height: 80vh;
                border-top-left-radius: 15px;
                border-top-right-radius: 15px;
            }
            
            .game-container.ad-active {
                height: 20vh;
            }
            
            .ad-close {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }
            
            .ad-timer {
                font-size: 0.8rem;
                padding: 2px 8px;
            }
        }
        
        @media (max-height: 700px) {
            .overlay-ad {
                height: 85vh;
            }
            
            .game-container.ad-active {
                height: 15vh;
            }
        }
        
        @media (max-height: 600px) {
            .overlay-ad {
                height: 80vh;
            }
            
            .game-container.ad-active {
                height: 20vh;
            }
        }
    </style>
</head>
<body>
    <!-- Loading για το παιχνίδι -->
    <div class="game-loading" id="gameLoading">
        <div class="loader"></div>
        <p>Φόρτωση παιχνιδιού...</p>
    </div>
    
    <!-- Παιχνίδι σε πλήρη οθόνη -->
    <div class="game-container" id="gameContainer">
        <div class="game-wrapper" id="gameWrapper">
            <iframe 
                id="gameFrame"
                src="https://html5.gamemonetize.com/bqj8e306rpk3tz68id1v19bhwbud4gjc/" 
                style="width:100%; height:100%; border:none;"
                title="Match POP Blocks Puzzle"
                allowfullscreen>
            </iframe>
        </div>
    </div>
    
    <!-- Κουμπί πληροφοριών -->
    <button class="info-btn" id="infoBtn">
        <i class="fas fa-info"></i>
    </button>
    
    <!-- Pop-up πληροφοριών -->
    <div class="info-popup" id="infoPopup">
        <div class="info-content">
            <div class="info-header">
                <h2>Match POP Blocks Puzzle</h2>
                <button class="close-info-btn" id="closeInfoBtn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="info-body">
                <img src="https://img.gamemonetize.com/bqj8e306rpk3tz68id1v19bhwbud4gjc/512x384.jpg" 
                     alt="Match POP Blocks Puzzle" class="game-thumb">
                
                <div class="description">
                    <p><strong>Match POP Blocks Puzzle</strong> είναι ένα απλό αλλά προκλητικό δωρεάν παζλ με μπλοκ που δεν θα μπορέσεις να αφήσεις!</p>
                    <p>Συνδυάστε κυβικά μπλοκ στον πλέγμα 9x9, που θα είναι οικείο σε όλους τους fans του sudoku, για να δημιουργήσετε γραμμές και τετράγωνα. Στρατηγικά στοιβάξτε τα μπλοκ sudoku που αποτελούνται από κύβους στον πίνακα για να τα καταστρέψετε και να κρατήσετε τον πίνακα καθαρό.</p>
                </div>
                
                <div class="instructions">
                    <h3><i class="fas fa-gamepad"></i> Οδηγίες Παιχνιδιού</h3>
                    <p>Συνδυάστε κυβικά μπλοκ στον πλέγμα 9x9, που θα είναι οικείο σε όλους τους fans του sudoku, για να δημιουργήσετε γραμμές και τετράγωνα. Στρατηγικά στοιβάξτε τα μπλοκ sudoku που αποτελούνται από κύβους στον πίνακα για να τα καταστρέψετε και να κρατήσετε τον πίνακα καθαρό.</p>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>Σύρετε και αφήστε τα μπλοκ στον πλέγμα 9x9</li>
                        <li>Συμπληρώστε ολόκληρες γραμμές ή τετράγωνα για να τα καταστρέψετε</li>
                        <li>Στρατηγικά σχεδιάστε τις κινήσεις σας για να κρατήσετε τον πίνακα καθαρό</li>
                        <li>Προσπαθήστε να πετύχετε το υψηλότερο δυνατό σκορ</li>
                    </ul>
                </div>
                
                <h3 style="color: #2575fc; margin-bottom: 15px;">Λεπτομέρειες Παιχνιδιού</h3>
                <div class="game-details">
                    <div class="detail-item">
                        <i class="fas fa-expand-alt"></i>
                        <div>Μέγεθος Οθόνης</div>
                        <div>Πλήρης Οθόνη</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-gamepad"></i>
                        <div>Κατηγορία</div>
                        <div>Παιχνίδι Διαδικτύου</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-code"></i>
                        <div>Τεχνολογία</div>
                        <div>HTML5</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-globe"></i>
                        <div>Γλώσσα</div>
                        <div>Αγγλικά</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-calendar-alt"></i>
                        <div>Ημερομηνία</div>
                        <div>2023</div>
                    </div>
                    <div class="detail-item">
                        <i class="fas fa-puzzle-piece"></i>
                        <div>Τύπος Παιχνιδιού</div>
                        <div>Παζλ / Στρατηγικής</div>
                    </div>
                </div>
                
                <h3 style="color: #2575fc; margin-top: 20px;">Ετικέτες</h3>
                <div class="tags">
                    <span class="tag">2D</span>
                    <span class="tag">Block Puzzle</span>
                    <span class="tag">Sudoku Style</span>
                    <span class="tag">Strategy</span>
                    <span class="tag">Brain Game</span>
                    <span class="tag">Casual</span>
                    <span class="tag">Free to Play</span>
                    <span class="tag">HTML5</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ΔΙΑΦΗΜΙΣΗ ΜΕ 90% ΤΗΣ ΟΘΟΝΗΣ -->
    <div class="overlay-ad" id="overlayAd">
        <div class="ad-header">
            <div class="ad-title">
                <i class="fas fa-ad" style="margin-right: 8px;"></i>
                Διαφήμιση
                <span class="ad-timer" id="adTimer">Κλείνει σε 30s</span>
            </div>
            <button class="ad-close" id="closeAd">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="ad-content">
            <div class="ad-placeholder" id="adPlaceholder">
                <i class="fas fa-ad" style="font-size: 3rem; margin-bottom: 15px; color: #666;"></i>
                <p>Φόρτωση διαφήμισης...</p>
                <p style="font-size: 0.9rem; margin-top: 10px; color: #888;">Η διαφήμιση θα κλείσει αυτόματα σε 30 δευτερόλεπτα</p>
            </div>
            
            <!-- Το πραγματικό AdSense script θα εισαχθεί από JavaScript -->
            <div id="adsenseContainer" style="width:100%; height:100%;"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Στοιχεία του DOM
            const gameLoading = document.getElementById('gameLoading');
            const gameContainer = document.getElementById('gameContainer');
            const gameFrame = document.getElementById('gameFrame');
            const infoBtn = document.getElementById('infoBtn');
            const infoPopup = document.getElementById('infoPopup');
            const closeInfoBtn = document.getElementById('closeInfoBtn');
            const overlayAd = document.getElementById('overlayAd');
            const closeAd = document.getElementById('closeAd');
            const adTimer = document.getElementById('adTimer');
            const adsenseContainer = document.getElementById('adsenseContainer');
            const adPlaceholder = document.getElementById('adPlaceholder');
            
            let adCountdown;
            let adInterval;
            let adShown = false;
            let currentAdTime = 30;
            
            // Κρύψε το loading μόλις φορτώσει το παιχνίδι
            gameFrame.onload = function() {
                setTimeout(function() {
                    gameLoading.style.display = 'none';
                    console.log('Το παιχνίδι φορτώθηκε!');
                    
                    // Ξεκίνα τις διαφημίσεις μόλις φορτώσει το παιχνίδι
                    if (!adShown) {
                        startAdCycle();
                        adShown = true;
                    }
                }, 2000);
            };
            
            // Άνοιγμα pop-up πληροφοριών
            infoBtn.addEventListener('click', function() {
                infoPopup.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            // Κλείσιμο pop-up πληροφοριών
            closeInfoBtn.addEventListener('click', function() {
                infoPopup.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // Κλείσιμο με κλικ έξω από το pop-up
            infoPopup.addEventListener('click', function(e) {
                if (e.target === infoPopup) {
                    infoPopup.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Κλείσιμο με ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && infoPopup.classList.contains('active')) {
                    infoPopup.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // Κλείσιμο διαφήμισης
            closeAd.addEventListener('click', function() {
                hideAd();
            });
            
            // Timer για τη διαφήμιση
            function startAdTimer() {
                currentAdTime = 30;
                adTimer.textContent = `Κλείνει σε ${currentAdTime}s`;
                
                clearInterval(adCountdown);
                adCountdown = setInterval(function() {
                    currentAdTime--;
                    adTimer.textContent = `Κλείνει σε ${currentAdTime}s`;
                    
                    if (currentAdTime <= 0) {
                        clearInterval(adCountdown);
                        hideAd();
                    }
                }, 1000);
            }
            
            // Συνάρτηση απόκρυψης διαφήμισης
            function hideAd() {
                clearInterval(adCountdown);
                overlayAd.classList.remove('active');
                gameContainer.classList.remove('ad-active');
                
                // Επαναφορά του παιχνιδιού σε πλήρη οθόνη
                setTimeout(() => {
                    gameContainer.style.height = '100%';
                }, 300);
                
                // Επαναφορά placeholder
                setTimeout(() => {
                    adPlaceholder.style.display = 'flex';
                    adPlaceholder.innerHTML = `
                        <i class="fas fa-ad" style="font-size: 3rem; margin-bottom: 15px; color: #666;"></i>
                        <p>Φόρτωση διαφήμισης...</p>
                        <p style="font-size: 0.9rem; margin-top: 10px; color: #888;">Η διαφήμιση θα κλείσει αυτόματα σε 30 δευτερόλεπτα</p>
                    `;
                }, 500);
            }
            
            // Συνάρτηση για εμφάνιση διαφήμισης
            function showAd() {
                console.log('Εμφάνιση διαφήμισης (90% οθόνης)');
                
                // Κρύψε το placeholder
                adPlaceholder.style.display = 'none';
                
                // Αλλαγή ύψους του παιχνιδιού στο 10%
                gameContainer.classList.add('ad-active');
                
                // Δημιούργησε και πρόσθεσε το AdSense script
                const adScript = document.createElement('script');
                adScript.async = true;
                adScript.src = "https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3186700611266549";
                adScript.crossOrigin = "anonymous";
                
                // Δημιούργησε το ad container
                const adIns = document.createElement('ins');
                adIns.className = 'adsbygoogle';
                adIns.style.display = 'block';
                adIns.style.width = '100%';
                adIns.style.height = '100%';
                adIns.setAttribute('data-ad-format', 'autorelaxed');
                adIns.setAttribute('data-ad-client', 'ca-pub-3186700611266549');
                adIns.setAttribute('data-ad-slot', '9660744817');
                
                // Καθάρισε το container και πρόσθεσε τα νέα στοιχεία
                adsenseContainer.innerHTML = '';
                adsenseContainer.appendChild(adIns);
                document.head.appendChild(adScript);
                
                // Εμφάνιση διαφήμισης
                overlayAd.classList.add('active');
                
                // Ξεκίνα το timer
                startAdTimer();
                
                // Εκτέλεση του AdSense script
                setTimeout(function() {
                    try {
                        (adsbygoogle = window.adsbygoogle || []).push({});
                        console.log('AdSense διαφήμιση φορτώθηκε (90% οθόνης)');
                    } catch(e) {
                        console.log('AdSense error:', e);
                        // Εμφάνισε το placeholder αν αποτύχει
                        adPlaceholder.style.display = 'flex';
                        adPlaceholder.innerHTML = '<p>Διαφήμιση φόρτωσης...</p>';
                    }
                }, 500);
            }
            
            // Έναρξη διαφημίσεων
            function startAdCycle() {
                console.log('Ξεκίνησε ο κύκλος διαφημίσεων κάθε 1.5 λεπτό');
                
                // Πρώτη εμφάνιση μετά από 30 δευτερόλεπτα
                setTimeout(() => {
                    showAd();
                    // Επανάληψη κάθε 1.5 λεπτό (90000 ms = 90 δευτερόλεπτα)
                    adInterval = setInterval(showAd, 90000);
                }, 30000);
            }
            
            // Έναρξη του κύκλου διαφημίσεων όταν φορτωθεί η σελίδα
            setTimeout(function() {
                if (!adShown) {
                    startAdCycle();
                    adShown = true;
                }
            }, 5000);
            
            // Επαναφόρτωση διαφημίσεων όταν ο χρήστης επιστρέψει στην εφαρμογή
            document.addEventListener('visibilitychange', function() {
                if (!document.hidden && window.adsbygoogle && overlayAd.classList.contains('active')) {
                    setTimeout(() => {
                        try {
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        } catch(e) {
                            console.log("AdSense reload error:", e);
                        }
                    }, 500);
                }
            });
            
            // Αναβάθμιση του παιχνιδιού για να πιάνει όλη την οθόνη
            setTimeout(function() {
                gameFrame.style.width = '100%';
                gameFrame.style.height = '100%';
            }, 1000);
            
            // Προστασία από gamesmunch.com
            if (window.location.hostname.includes('gamesmunch.com') || 
                window.location.href.includes('gamesmunch.com')) {
                console.log('Απαγορευμένος ιστότοπος - ανακατεύθυνση');
                window.location.href = window.location.origin;
            }
            
            // Αποτροπή click σε εξωτερικούς συνδέσμους
            document.addEventListener('click', function(e) {
                let target = e.target;
                while (target && target.tagName !== 'A') {
                    target = target.parentElement;
                }
                if (target && target.href && target.href.includes('gamesmunch.com')) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            });
        });
    </script>
</body>
</html>
